(this.webpackJsonpNimblRippleMethod=this.webpackJsonpNimblRippleMethod||[]).push([[8],{208:function(e,t,n){e.exports=n(350)},214:function(e,t,n){var a={"./ion-action-sheet-controller_8.entry.js":[356,43],"./ion-action-sheet-ios.entry.js":[357,44],"./ion-action-sheet-md.entry.js":[358,45],"./ion-alert-ios.entry.js":[359,24],"./ion-alert-md.entry.js":[360,25],"./ion-app_8-ios.entry.js":[361,11],"./ion-app_8-md.entry.js":[362,12],"./ion-avatar_3-ios.entry.js":[363,46],"./ion-avatar_3-md.entry.js":[364,47],"./ion-back-button-ios.entry.js":[365,48],"./ion-back-button-md.entry.js":[366,49],"./ion-backdrop-ios.entry.js":[367,81],"./ion-backdrop-md.entry.js":[368,82],"./ion-button_2-ios.entry.js":[369,50],"./ion-button_2-md.entry.js":[370,51],"./ion-card_5-ios.entry.js":[371,52],"./ion-card_5-md.entry.js":[372,53],"./ion-checkbox-ios.entry.js":[373,54],"./ion-checkbox-md.entry.js":[374,55],"./ion-chip-ios.entry.js":[375,56],"./ion-chip-md.entry.js":[376,57],"./ion-col_3.entry.js":[377,83],"./ion-datetime_3-ios.entry.js":[378,20],"./ion-datetime_3-md.entry.js":[379,21],"./ion-fab_3-ios.entry.js":[380,58],"./ion-fab_3-md.entry.js":[381,59],"./ion-img.entry.js":[382,84],"./ion-infinite-scroll_2-ios.entry.js":[383,39],"./ion-infinite-scroll_2-md.entry.js":[384,40],"./ion-input-ios.entry.js":[385,60],"./ion-input-md.entry.js":[386,61],"./ion-item-option_3-ios.entry.js":[387,62],"./ion-item-option_3-md.entry.js":[388,63],"./ion-item_8-ios.entry.js":[389,64],"./ion-item_8-md.entry.js":[390,65],"./ion-loading-ios.entry.js":[391,26],"./ion-loading-md.entry.js":[392,27],"./ion-menu_4-ios.entry.js":[393,18],"./ion-menu_4-md.entry.js":[394,19],"./ion-modal-ios.entry.js":[395,14],"./ion-modal-md.entry.js":[396,15],"./ion-nav_5.entry.js":[397,13],"./ion-popover-ios.entry.js":[398,16],"./ion-popover-md.entry.js":[399,17],"./ion-progress-bar-ios.entry.js":[400,66],"./ion-progress-bar-md.entry.js":[401,67],"./ion-radio_2-ios.entry.js":[402,32],"./ion-radio_2-md.entry.js":[403,33],"./ion-range-ios.entry.js":[404,68],"./ion-range-md.entry.js":[405,69],"./ion-refresher_2-ios.entry.js":[406,41],"./ion-refresher_2-md.entry.js":[407,42],"./ion-reorder_2-ios.entry.js":[408,37],"./ion-reorder_2-md.entry.js":[409,38],"./ion-ripple-effect.entry.js":[410,85],"./ion-route_4.entry.js":[411,70],"./ion-searchbar-ios.entry.js":[412,28],"./ion-searchbar-md.entry.js":[413,29],"./ion-segment_2-ios.entry.js":[414,71],"./ion-segment_2-md.entry.js":[415,72],"./ion-select_3-ios.entry.js":[416,34],"./ion-select_3-md.entry.js":[417,35],"./ion-slide_2-ios.entry.js":[418,86],"./ion-slide_2-md.entry.js":[419,87],"./ion-spinner.entry.js":[420,73],"./ion-split-pane-ios.entry.js":[421,88],"./ion-split-pane-md.entry.js":[422,89],"./ion-tab-bar_2-ios.entry.js":[423,74],"./ion-tab-bar_2-md.entry.js":[424,75],"./ion-tab_2.entry.js":[425,36],"./ion-text.entry.js":[426,76],"./ion-textarea-ios.entry.js":[427,77],"./ion-textarea-md.entry.js":[428,78],"./ion-toast-ios.entry.js":[429,30],"./ion-toast-md.entry.js":[430,31],"./ion-toggle-ios.entry.js":[431,22],"./ion-toggle-md.entry.js":[432,23],"./ion-virtual-scroll.entry.js":[433,90]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=214,e.exports=r},215:function(e,t,n){var a={"./ion-icon.entry.js":[437,98]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=215,e.exports=r},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){},338:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){"use strict";n.r(t);var a,r,i,o=n(0),l=n.n(o),s=n(46),c=n.n(s),u=n(16),d=n(1),m=n(145),p=n(3),h=n.n(p),f=n(10),g=n(5),E=n(6),y=n(8),v=n(7),b=n(9),k=n(61),j=n.n(k),O=n(170),S="https://hades-nrm-dot-techedge-es-nrm-pro.appspot.com";!function(e){e.COUNT="COUNT",e.LIMIT="LIMIT",e.OFFSET="OFFSET",e.ORDER_BY="ORDER_BY",e.WHERE="WHERE"}(a||(a={})),function(e){e.ASC="ASC",e.CONTAINS="CONTAINS",e.DESC="DESC",e.EQUALS="EQUALS",e.GREATER="GREATER",e.GREATER_OR_EQ="GREATER_OR_EQ",e.IN="IN",e.IS_NOT_NULL="IS_NOT_NULL",e.IS_NULL="IS_NULL",e.LOWER="LOWER",e.LOWER_OR_EQ="LOWER_OR_EQ",e.NOT_CONTAINS="NOT_CONTAINS",e.NOT_EQUALS="NOT_EQUALS"}(r||(r={})),function(e){e.ASIS="ASIS",e.CHALLENGE="CHALLENGE",e.VALUE="VALUE",e.SOLUTION="SOLUTION",e.BENEFITS="BENFITS"}(i||(i={}));n(220);var C=n(62),w=n.n(C),I=O.a.Storage,x=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(y.a)(this,Object(v.a)(t).call(this,e))).event=void 0,n.updateUserName=function(e){n.setState({username:e.detail.value})},n.updatePassword=function(e){n.setState({password:e.detail.value})},n.updateEmail=function(e){n.setState({email:e.detail.value})},n.toggleAction=function(){"Login"===n.state.action?n.setState({action:"SignUp"}):n.setState({action:"Login"})},n.login=function(){var e,t;n.setObject(n.state.email,n.state.password),"Login"===n.state.action?(e=S+"/admin/auth",t={username:n.state.email,password:n.state.password}):(e=S+"/auth",t={user:{email:n.state.email,password:n.state.password,username:n.state.username}}),fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(200===e.status||201===e.status)return e.json();throw"SignUp"===n.state.action?new Error("Error creating user"):new Error("Loggedin failed.  \n          Please enter a valid account")})).then((function(e){localStorage.setItem("token",e.accessToken),localStorage.setItem("refresh_token",e.refreshToken),localStorage.setItem("username",n.state.username),localStorage.setItem("isLogin","true"),localStorage.setItem("email",n.state.email),n.event=new CustomEvent("loggedIn",{detail:!0}),window.dispatchEvent(n.event),n.props.history.replace("/rippleDiagram")}),(function(e){console.error(e),n.setState({toastMessage:e.toString(),toastState:!0})}))},n.state={email:"",username:"",password:"",toastState:!1,toastMessage:"Message",action:"Login"},n.event=new CustomEvent("loggedIn",{detail:!1}),n}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.clearCredentials(),this.props.history.listen((function(t,n){"/login"===t.pathname&&e.clearCredentials()})),this.getObject().then((function(t){null!=t&&(e.setState({email:t.email}),e.setState({password:t.password}))}))}},{key:"clearCredentials",value:function(){this.event=new CustomEvent("loggedIn",{detail:!1}),window.dispatchEvent(this.event),localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("isLogin"),localStorage.removeItem("email")}},{key:"setObject",value:function(){var e=Object(f.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.set({key:"user",value:JSON.stringify({email:t,password:n})});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getObject",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get({key:"user"});case 2:return t=e.sent,n=JSON.parse(t.value),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return l.a.createElement(d.G,null,l.a.createElement(d.s,null,l.a.createElement(d.S,null,l.a.createElement(d.Q,{class:"header"},"Login"),l.a.createElement(d.C,{slot:"start"}))),l.a.createElement(d.n,{class:"ion-padding"},l.a.createElement("video",{className:"backgroundVideo",autoPlay:!0,loop:!0,muted:!0,"webkit-playsinline":"true",playsInline:!0},l.a.createElement("source",{src:w.a,type:"video/webm"})),l.a.createElement(d.R,{cssClass:"toast",isOpen:this.state.toastState,onDidDismiss:function(){return e.setState((function(){return{toastState:!1}}))},message:this.state.toastMessage,duration:400}),l.a.createElement("div",{className:"formWrapper"},l.a.createElement("form",{action:"",className:"loginForm"},l.a.createElement("img",{src:j.a,alt:"logo",width:"100%"}),l.a.createElement(d.z,null,l.a.createElement(d.v,null,l.a.createElement(d.u,{onIonChange:this.updateEmail,type:"email",placeholder:"Email",value:this.state.email})),"SignUp"===this.state.action?l.a.createElement(d.v,null,l.a.createElement(d.u,{onIonChange:this.updateUserName,type:"text",placeholder:"Username",value:this.state.username})):null,l.a.createElement(d.v,null,l.a.createElement(d.u,{onIonChange:this.updatePassword,type:"password",placeholder:"Password",value:this.state.password})),l.a.createElement(d.e,{onClick:this.login,className:"loginbutton"},this.state.action))))))}}]),t}(l.a.Component),D=n(4),N=n(446),T=n(447),R=n(448),L=n(449),A=n(450),P=(n(221),n(222),n(90)),F=(n(223),function(e){function t(e){var n;return Object(g.a)(this,t),n=Object(y.a)(this,Object(v.a)(t).call(this,e)),console.debug("constructor"),n}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(d.g,{onClick:function(){return e.props.onClick()},className:"ion-activatable ripple-card"},l.a.createElement(d.I,{className:"customRipple"}),l.a.createElement(d.i,null,l.a.createElement(d.j,null,this.props.technologies.map((function(e){return l.a.createElement(d.l,{key:e.id,color:"secondary"},l.a.createElement(d.x,null,e.technologiesType))}))),l.a.createElement(d.k,null,this.props.title)),l.a.createElement(d.h,null,l.a.createElement(d.r,null,l.a.createElement(d.K,null,l.a.createElement(d.m,{size:"8"},this.props.description),l.a.createElement(d.m,{size:"4"},l.a.createElement(P.a,{value:this.props.progress,text:"".concat(this.props.progress,"%"),styles:Object(P.b)({pathColor:"".concat(this.props.progress>80?"rgba(0,200,0,1)":this.props.progress>50?"rgba(0,0,200,1)":"rgba(200,0,0,1)"),textColor:"".concat(this.props.progress>80?"rgba(0,200,0,1)":this.props.progress>50?"rgba(0,0,200,1)":"rgba(200,0,0,1)")})}))),l.a.createElement(d.K,null,l.a.createElement(d.m,null,this.props.types.map((function(t){return l.a.createElement(d.l,{style:{width:"max-content",color:"white",background:e.props.colorHandler(t.id)},key:t.rippleType},l.a.createElement(d.x,null,t.rippleType))})),this.props.implementationType.map((function(e){return l.a.createElement(d.l,{style:{width:"max-content"},key:e.id},l.a.createElement(d.x,null,e.implementationType))}))),l.a.createElement(d.m,null,l.a.createElement(d.x,{class:"ion-float-right ion-align-self-center circularLabel",color:"dark"},this.props.owner.split(" ").map((function(e){return e.charAt(0)})).join("")))))))}}]),t}(l.a.Component)),_=n(32),z=n.n(_),U=n(40),M=function(){function e(t){var n=this;Object(g.a)(this,e),this.history=t,this.toast=document.createElement("ion-toast"),this.toast.position="bottom",this.toast.buttons=[{text:"Done",role:"cancel",handler:function(){console.log("Cancel clicked"),n.toast.dismiss(),document.body.removeChild(n.toast)}}]}return Object(E.a)(e,[{key:"doPost",value:function(e,t){var n=this;return z()({url:S+e,headers:this.getHeaders(),method:"post",data:t}).then((function(e){return console.log(e),e.data})).catch((function(e){401===e.request.status?n.handleRedirect():n.showError(e.message)}))}},{key:"getHeaders",value:function(){return{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}},{key:"refreshToken",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.post("".concat(S,"/admin/auth/refresh"),JSON.stringify({grantType:"refreshToken",refreshToken:localStorage.getItem("refresh_token")}),{headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).clientsecret)}});case 2:t=e.sent,localStorage.setItem("token",t.data.accessToken);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getDate",value:function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+(e.getHours()+":"+e.getMinutes()+":"+e.getSeconds());return console.log(t),t.toString()}},{key:"doGet",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshToken();case 2:return e.abrupt("return",z()({headers:this.getHeaders(),url:S+t,method:"get"}).then((function(e){return console.log(e),e.data})).catch((function(e){401===e.request.status?n.handleRedirect():n.showError(e.message)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"doGetwithParams",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshToken();case 2:return e.abrupt("return",z()({headers:this.getHeaders(),url:S+t,method:"get",params:{fecha_fin:""+this.getDate()}}).then((function(e){return console.log(e),e.data})).catch((function(e){401===e.request.status?n.handleRedirect():n.showError(e.message)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"doGetwithRippleFilterCard",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshToken();case 2:return e.abrupt("return",z()({headers:this.getHeaders(),url:S+t,method:"get",params:{only_cards:!0}}).then((function(e){return console.log(e),e.data})).catch((function(e){401===e.request.status?n.handleRedirect():n.showError(e.message)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"doPostwithParams",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshToken();case 2:return e.abrupt("return",z()({headers:this.getHeaders(),url:S+t,method:"post",data:{frontDate:""+this.getDate()}}).then((function(e){return console.log(e),e.data})).catch((function(e){401===e.request.status?n.handleRedirect():n.showError(e.message)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showError",value:function(e){this.toast.message=e,document.body.appendChild(this.toast),this.toast.present()}},{key:"handleRedirect",value:function(){this.history.push("/login")}}]),e}(),H=function(e){switch(e){case 0:return"#ccc";case 1:return"#FFC107";case 2:return"#00BCD4";case 3:return"#8BC34A";case 4:return"#D35BD7";case 5:return"#734ccf";case 6:return"#ed785a";case 7:return"#ab5d0f";case 8:return"#0be6a8";case 9:return"#edba77";case 10:return"#bf3f43";default:return"#ddd"}},G=function(e){var t=Object(o.useState)([]),n=Object(D.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)([]),s=Object(D.a)(i,2),c=s[0],m=s[1],p=Object(o.useState)([]),h=Object(D.a)(p,2),f=h[0],g=h[1],E=Object(o.useState)([]),y=Object(D.a)(E,2),v=y[0],b=y[1],k=Object(o.useState)(!0),j=Object(D.a)(k,2),O=j[0],S=j[1],C=Object(o.useState)(!1),w=Object(D.a)(C,2),I=w[0],x=w[1],P=Object(o.useState)(!1),_=Object(D.a)(P,2),z=_[0],U=_[1],G=Object(o.useState)(!1),B=Object(D.a)(G,2),W=B[0],Q=B[1],V=Object(o.useState)(null),q=Object(D.a)(V,2),K=q[0],J=q[1],Y=new M(e),Z=function(){S(!0),Y.doGet("/nrrm-ripple/ripple/getFilters?email="+localStorage.getItem("email")+"&only_cards=true").then((function(e){if(S(!1),!e)return J([]);var t=[],n=[],a=[];return e.forEach((function(e){t.push({key:e.implementationType.uuid,value:e.implementationType.implementationType,type:0}),n.push({key:e.type.uuid,value:e.type.rippleType,type:1}),a.push({key:e.businessArea.uuid,value:e.businessArea.businessArea,type:2})})),m($(t)),g($(n)),b($(a)),J(e)}))},$=function(e){return e.filter((function(e,t,n){return n.findIndex((function(t){return t.place===e.place&&t.key===e.key}))===t}))};Object(o.useEffect)((function(){Z()}),[]);var X=function(){S(!0);var e=a.reduce((function(e,t){return 0===t.type?e+"&implementationType="+t.key:1===t.type?e+"&type="+t.key:2===t.type?e+"&businessArea="+t.key:""}),""),t=e.length>0?e+"&only_cards=true":"&only_cards=true";Y.doGet("/nrrm-ripple/ripple/getFilters?"+t+"&email="+localStorage.getItem("email")).then((function(e){return S(!1),J(e)}))},ee=function(e){var t=a.findIndex((function(t){return t.type===e.type}));t>-1&&a.splice(t,1),-1===a.indexOf(e)&&(a.push(e),r(a),X())};return l.a.createElement(d.G,null,l.a.createElement(d.s,null,l.a.createElement(d.S,null,l.a.createElement(d.f,{slot:"start"},l.a.createElement(d.C,null)),l.a.createElement(d.Q,null,"Ripple List"))),l.a.createElement(d.n,null,l.a.createElement(d.A,{isOpen:O,onDidDismiss:function(){return S(!1)},message:"Loading...",duration:5e3}),l.a.createElement(d.r,null,l.a.createElement(d.K,null,l.a.createElement(d.m,{size:"12"},l.a.createElement(d.L,{id:"searchInput",animated:!0,onIonChange:function(e){var t=e.currentTarget.value;t.length>0?function(e){S(!0);var t=K.filter((function(t){return-1!==t.smallDescription.toUpperCase().indexOf(e.toUpperCase())}));S(!1),J(t)}(t):Z()},debounce:400})))),a.map((function(e){return l.a.createElement(d.l,{onClick:function(){!function(e){a.splice(a.indexOf(e),1);var t=a.slice();r(t),X()}(e)}},l.a.createElement(d.x,null,e.value),l.a.createElement(d.t,{name:"close-circle"}))})),l.a.createElement((function(e){var t=Object(u.f)();if(!e.data)return l.a.createElement(d.z,null);var n=e.data.map((function(e){return l.a.createElement(d.m,{size:"12","size-sm":"6","size-lg":"4","size-xl":"3",key:e.id},l.a.createElement(F,{cardId:e.id,title:e.name,description:e.smallDescription,technologies:e.technologiesInvolved,types:[e.type],colorHandler:H.bind(null),implementationType:[e.implementationType],owner:e.rippleOwner,progress:e.progressDegree,onClick:function(){t.push("/ripple/"+e.uuid)}}))}));return l.a.createElement(d.r,null,l.a.createElement(d.K,{className:"ion-align-items-stretch"},n))}),{data:K}),l.a.createElement("div",{className:"customStackedButtons"},l.a.createElement(d.o,{vertical:"bottom",horizontal:"end",slot:"fixed"},l.a.createElement(d.p,{routerLink:"/rippleDiagram"},l.a.createElement(d.t,{icon:N.a,color:"light"}))),l.a.createElement(d.o,{vertical:"bottom",horizontal:"end",slot:"fixed",className:"secondaryFab"},l.a.createElement(d.p,{color:"secondary"},l.a.createElement(d.t,{icon:T.a,color:"light"})),l.a.createElement(d.q,{side:"top"},l.a.createElement(d.p,{title:"Implementation Type",onClick:function(e){x(!0)}},l.a.createElement(d.t,{icon:R.a})),l.a.createElement(d.p,{title:"Solution Type",onClick:function(e){U(!0)}},l.a.createElement(d.t,{icon:L.a})),l.a.createElement(d.p,{title:"Business Area",onClick:function(e){Q(!0)}},l.a.createElement(d.t,{icon:A.a}))))),l.a.createElement(d.E,{isOpen:I},l.a.createElement(d.z,null,c.map((function(e){return l.a.createElement(d.v,{key:e.key,onClick:function(t){ee(e),x(!1)}},e.value)}))),l.a.createElement(d.e,{onClick:function(){return x(!1)}},"Cerrar")),l.a.createElement(d.E,{isOpen:z},l.a.createElement(d.z,null,f.map((function(e){return l.a.createElement(d.v,{key:e.key,onClick:function(t){ee(e),U(!1)}},e.value)}))),l.a.createElement(d.e,{onClick:function(){return U(!1)}},"Cerrar")),l.a.createElement(d.E,{isOpen:W},l.a.createElement(d.z,null,v.map((function(e){return l.a.createElement(d.v,{key:e.key,onClick:function(t){ee(e),Q(!1)}},e.value)}))),l.a.createElement(d.e,{onClick:function(){return Q(!1)}},"Cerrar"))))},B=(n(79),n(456)),W=n(453),Q=n(441),V=n(440),q=n(48),K=n.n(q),J=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(y.a)(this,Object(v.a)(t).call(this,e))).ref=void 0,n.width=void 0,n.height=void 0,n.innerRadius=void 0,n.outerRadius=void 0,n.rendering=void 0,n.percentageGrade=void 0,n.ref=l.a.createRef(),n.width=975,n.height=975,n.outerRadius=Math.min(n.width,n.height)/2,n.innerRadius=180,n.rendering=!0,n}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.props.data&&this.props.dataOrigen&&this.rendering&&(this.createRadialStackedBarChart(),this.rendering=!1)}},{key:"navigationtoIndicatorDetail",value:function(e){this.props.history.push("/dgrade2/"+e.id,e)}},{key:"createRadialStackedBarChart",value:function(){var e=this,t=Object(Q.a)(this.ref.current).attr("viewBox","".concat(-this.width/2," ").concat(-this.height/2," ").concat(this.width," ").concat(this.height)).attr("class","graphic").style("width","100%").style("height","auto").style("font","1.8em helvetica"),n=Object(B.a)().domain(this.props.data.map((function(e){return e.State}))).range([0,2*Math.PI]).align(0),a=Object(W.a)().domain([0,U.b(this.props.data,(function(e){return parseInt(e.total)}))]).range([this.innerRadius,this.outerRadius]),r=U.c().domain(this.props.data.columns.slice(1)).range(["#80c242","#d1e0e0","#7b6888","#6b486b","#a05d56","#d0743c","#ff8c00"]),i=U.a().innerRadius((function(e){return a(e[0])})).outerRadius((function(e){return a(e[1])})).startAngle((function(e){return n(e.data.State)})).endAngle((function(e){return n(e.data.State)+n.bandwidth()})).padAngle(.04).padRadius(this.innerRadius);t.append("g").selectAll("g").data(U.d().keys(this.props.data.columns.slice(1))(this.props.data)).join("g").attr("fill",(function(e){return r(e.key)})).selectAll("path").data((function(e){return e})).enter().append("path").attr("d",i),t.append("g").call((function(t){return t.attr("text-anchor","middle").call((function(t){return t.selectAll("g").data(e.props.data).join("g").attr("transform",(function(t){return"\n                    rotate(".concat(180*(n(t.State)+n.bandwidth()/2)/Math.PI-90,")\n                    translate(").concat(e.innerRadius,",0)\n                ")})).call((function(e){return e.append("line").attr("x2",-5).attr("stroke","#FFF")})).call((function(e){return e.append("text").attr("transform",(function(e){return(n(e.State)+n.bandwidth()/2+Math.PI/2)%(2*Math.PI)<Math.PI?"rotate(90)translate(0,65)":"rotate(-90)translate(0,-30)"})).text((function(e){return e.State}))}))}))})),t.append("g").call((function(e){return e.attr("text-anchor","middle").call((function(e){return e.append("text").attr("y",(function(){return-a(a.ticks(5).pop())})).attr("dy","-1.9em")})).call((function(e){return e.selectAll("g").data(a.ticks(5).slice(1)).join("g").attr("fill","none").call((function(e){return e.append("circle").attr("stroke","#FFF").attr("stroke-width","1.5px").attr("r",a)})).call((function(e){return e.append("text").attr("y",(function(e){return-a(e)})).attr("dy","0.85em").attr("stroke","#FFF").attr("stroke-width",5).text(a.tickFormat(5,"s")).clone(!0).attr("fill","#000").attr("stroke","none")}))}))}))}},{key:"searchGradePercentage",value:function(){var e=this;if(this.props.dataOrigen)return this.props.dataOrigen.some((function(t){return!!t.grade&&(e.percentageGrade=100*t.grade.totalPercentage,!0)}))}},{key:"listItems",value:function(){var e=this;if(this.props.dataOrigen)return l.a.createElement(d.z,{className:"item-graph-list"},this.props.dataOrigen.map((function(t,n){return l.a.createElement(d.v,{class:"item-graph",key:n},l.a.createElement(d.P,null,l.a.createElement("strong",null,t.name)),l.a.createElement(d.e,{onClick:function(){return e.navigationtoIndicatorDetail(t)},slot:"end",fill:"clear",size:"default",class:"info"},l.a.createElement(d.x,{color:"success",mode:"ios"},Math.round(100*(100*t.percentage+Number.EPSILON))/100,"%"),l.a.createElement(d.t,{icon:V.a,mode:"ios",color:"success",size:"medium",slot:"end"})))})))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(d.g,{className:"graph-card"},l.a.createElement(d.i,null,l.a.createElement(d.j,null,"Digitalization grade")?l.a.createElement(d.j,null,"Digitalization grade"):l.a.createElement(K.a,null),l.a.createElement(d.k,{class:"total-percentage"},"  ",this.searchGradePercentage(),this.searchGradePercentage(),void 0==this.percentageGrade?l.a.createElement(K.a,{count:1,width:150}):this.percentageGrade+"%")),l.a.createElement(d.h,null,l.a.createElement(d.r,null,l.a.createElement(d.K,null,l.a.createElement(d.m,{"size-md":"5",size:"12"},l.a.createElement("div",null,l.a.createElement("svg",{ref:this.ref,width:this.width,height:this.height})))?l.a.createElement(d.m,null,l.a.createElement("div",null,l.a.createElement("svg",{ref:this.ref,width:this.width,height:this.height}))):l.a.createElement(K.a,{circle:!0,height:339,width:339}),l.a.createElement(d.m,{"size-md":"6","offset-md":"1",size:"12"},void 0==this.listItems()?l.a.createElement(K.a,{count:6}):this.listItems()))))))}}]),t}(l.a.Component),Y=Object(u.g)(J),Z=function(e){var t=new M(e),n=Object(o.useState)(!0),a=Object(D.a)(n,2),r=a[0],i=a[1],s=Object(o.useState)(null),c=Object(D.a)(s,2),u=c[0],m=c[1],p=Object(o.useState)(null),g=Object(D.a)(p,2),E=g[0],y=g[1],v=function(){var e=Object(f.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,t.doGet("/nrrm-ripple/indicator?email="+localStorage.getItem("email"));case 4:n=e.sent,b(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),m(null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),b=function(e){var t,n=[];if(e){for(var a=0;a<e.length;a++)e[a].indicators.length>0&&n.push({State:e[a].alias,current:100*e[a].percentage,remainder:100-100*e[a].percentage,total:100});(t=[].concat(n)).columns=["State","current","remainder"],i(!1),m(t),y(e)}};return Object(o.useEffect)((function(){v()}),[]),l.a.createElement(d.G,null,l.a.createElement(d.s,null,l.a.createElement(d.S,null,l.a.createElement(d.f,{slot:"start"},l.a.createElement(d.C,null)),l.a.createElement(d.Q,null,"Digitalization Grade"))),l.a.createElement(d.n,null,l.a.createElement(d.A,{isOpen:r,onDidDismiss:function(){return i(!1)},message:"Loading...",duration:5e3}),l.a.createElement(Y,{data:u,dataOrigen:E})))},$=n(67),X=n(451),ee=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={data:null,indicator:null,showAlert:!1,alerMessage:""},n}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.indicator,t=this.props.data;this.setState({indicator:e}),this.setState({data:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props.indicator,n=this.props.data;e.indicator!==t&&t&&this.setState({indicator:t}),e.data!==n&&n&&this.setState({data:n})}},{key:"listItems",value:function(){var e=this;if(this.state.indicator&&this.state.indicator.indicators)return l.a.createElement(d.z,{className:"item-graph-list"},this.state.indicator.indicators.map((function(t,n){return l.a.createElement(d.v,{class:"item-graph",key:n},l.a.createElement(d.P,null,l.a.createElement("strong",null,n+1,".\xa0",t.alias)),l.a.createElement(d.e,{onClick:function(){e.setState({showAlert:!0}),e.setState({alerMessage:t.name})},slot:"end",fill:"clear",size:"default",class:"info"},l.a.createElement(d.x,{color:"success",mode:"ios"},Math.round(100*(100*t.percentage+Number.EPSILON))/100,"%"),l.a.createElement(d.t,{icon:X.a,mode:"ios",color:"success",size:"small",slot:"end"})))})),this.props.handlerSpinner(!1))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(d.g,{className:"graph-card"},l.a.createElement(d.i,null,l.a.createElement(d.j,null,this.state.indicator?this.state.indicator.name:null," indicators"),l.a.createElement(d.k,{className:"total-percentage total-percentage--small"},this.state.indicator?100*this.state.indicator.percentage+"%":null)),l.a.createElement(d.h,null,l.a.createElement(d.r,null,l.a.createElement(d.K,null,l.a.createElement(d.m,{"size-sm":"6",size:"12"},l.a.createElement("div",{className:"chart-wrapper"},this.state.data?l.a.createElement($.a,{data:this.state.data,options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{left:0,right:10,top:0,bottom:0}},title:{display:!1,fontSize:30,position:"top",fontStyle:"regular",padding:12},scales:{yAxes:[{ticks:{beginAtZero:!0,max:100}}],xAxes:[{ticks:{beginAtZero:!0}}]},legend:{display:this.props.displayLegend,position:this.props.legendPosition,labels:{fontSize:16,fontStyle:"regular"}},tooltips:{enabled:!0,mode:"nearest",backgroundColor:"rgba(224, 232, 216,1)",titleFontSize:16,titleFontColor:"rgba(117, 93, 96, 1)",borderColor:"rgba(184, 204, 189, 1)",borderWidth:.7,footerFontSize:22,footerFontColor:"rgba(117, 93, 96, 1)",footerAlign:"right",bodyFontSize:18,bodyFontColor:"rgba(117, 93, 96, 1)",caretSize:10,yPadding:10,xPadding:10},elements:{line:{tension:.4,borderColor:"rgba(32, 156, 56)",borderWidth:1,borderCapStyle:"square"},point:{backgroundColor:"rgba(14, 128, 37, 1)",radius:2,hitRadius:4}}}}):null)),l.a.createElement(d.m,{"size-sm":"6",size:"12"},this.listItems()))))),l.a.createElement(d.b,{isOpen:this.state.showAlert,onDidDismiss:function(){return e.setState({showAlert:!1})},header:"Indicator Detail",message:this.state.alerMessage,buttons:["Close"]}))}}]),t}(o.Component);ee.defaultProps={displayTitle:!0,displayLegend:!1,legendPosition:"right",location:"Your historic data"};var te=ee,ne=Object(u.g)((function(e){var t=Object(o.useState)(null),n=Object(D.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(null),s=Object(D.a)(i,2),c=s[0],u=s[1],m=Object(o.useState)(null),p=Object(D.a)(m,2),h=p[0],f=p[1];function g(e){r(e)}return Object(o.useEffect)((function(){g(!0),function(){try{r(!0);var t=e.location.state;if(t.indicators){var n=[],a=[],i=[];t.indicators.forEach((function(e,t){a.push((t+1).toString()),n.push(Math.round(100*e.percentage)),i.push("rgba(128,194,66, 0.9)")})),f({labels:a,datasets:[{label:"Values",data:n,backgroundColor:i}]}),u(t)}}catch(o){console.log(o)}}()}),[]),l.a.createElement(d.G,null,l.a.createElement(d.s,null,l.a.createElement(d.S,null,l.a.createElement(d.f,{slot:"start"},l.a.createElement(d.d,{defaultHref:"/dgrade/"})),l.a.createElement(d.Q,null,null!=c?c.name:null))),l.a.createElement(d.n,null,l.a.createElement(d.A,{isOpen:a,message:"Loading..."}),h&&c?l.a.createElement(te,{data:h,indicator:c,handlerSpinner:g}):null))})),ae=n(166),re=n(12),ie=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={data:null},n}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.data;this.setState({data:e})}},{key:"componentDidUpdate",value:function(e){var t=this.props.data;e.data!==t&&t&&this.setState({data:t})}},{key:"listItems",value:function(){if(this.state.data){for(var e=this.state.data.labels,t=this.state.data.datasets[0].data,n=[],a=0;a<e.length;a++){var r={date:{month:e[a][0],year:e[a][1]},value:t[a]};n.push(r)}return l.a.createElement(d.z,{className:"item-graph-list"},n.map((function(e,t){return l.a.createElement(d.v,{class:"item-graph",key:t},l.a.createElement(d.P,null,l.a.createElement("strong",null,e.date.month+" "+e.date.year)),l.a.createElement(d.e,{slot:"end",fill:"clear",size:"default",class:"info"},l.a.createElement(d.x,{color:"success",mode:"ios"},Math.round(100*e.value)/100,"%")))})))}}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(d.g,{className:"graph-card"},l.a.createElement(d.i,null,l.a.createElement(d.j,null,"Historical digitalization grade"),l.a.createElement(d.k,{class:"totalPercentage important",color:"success"},"Evolution grade")),l.a.createElement(d.h,null,l.a.createElement(d.r,null,l.a.createElement(d.K,null,l.a.createElement(d.m,{"size-sm":"6",size:"12"},l.a.createElement("div",{className:"chart-wrapper"},this.state.data?l.a.createElement($.b,{data:this.state.data,options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{left:0,right:0,top:0,bottom:0}},scales:{yAxes:[{ticks:{beginAtZero:!0,max:100}}]},title:{display:!1,text:"Report from"+this.props.title,fontSize:60,position:"top",fontStyle:"regular",padding:12},legend:{display:this.props.displayLegend,position:this.props.legendPosition,align:"center",fullWidth:!0,labels:{fontColor:"rgba(255, 0 , 0 , 0.9)",fontSize:40,fontStyle:"regular"}},tooltips:{enabled:!0,mode:"nearest",backgroundColor:"rgba(224, 232, 216,1)",titleFontSize:16,titleFontColor:"rgba(117, 93, 96, 1)",borderColor:"rgba(184, 204, 189, 1)",borderWidth:.7,footerFontSize:22,footerFontColor:"rgba(117, 93, 96, 1)",footerAlign:"right",bodyFontSize:18,bodyFontColor:"rgba(117, 93, 96, 1)",caretSize:10,yPadding:10,xPadding:10},elements:{line:{tension:0,borderColor:"rgba(32, 156, 56)",borderWidth:1,borderCapStyle:"square"},point:{backgroundColor:"rgba(14, 128, 37, 1)",radius:2,hitRadius:4}}}}):null)),l.a.createElement(d.m,{"size-sm":"6",size:"12"},this.listItems()))))))}}]),t}(o.Component);ie.defaultProps={displayTitle:!0,displayLegend:!1,legendPosition:"right",location:"Your historic data"};var oe=ie,le=(n(332),function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(y.a)(this,Object(v.a)(t).call(this,e))).getChartData=Object(f.a)(h.a.mark((function e(){var t,a,r,i,o,l,s,c,u,d,m,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new M,e.prev=1,e.next=4,t.doPostwithParams("/nrrm-ripple/grade-history/getFilterGradesbyYear");case 4:for(a=e.sent,r={"00":"ENE","01":"FEB","02":"MAR","03":"ABR","04":"MAY","05":"JUN","06":"JUL","07":"AGO","08":"SEP","09":"OCT",10:"NOV",11:"DIC"},i=[],o=[],l=(new Date).getMonth(),s=a.length-1;s>=0;s--)c=a[s],u=new Date(c.timestamp),d=1==l.toString().length?"0"+l.toString():l.toString(),m=" "+u.getFullYear().toString(),i.unshift([r[d],m]),o.unshift(Math.round(100*parseFloat(c.totalPercentage))),--l<0&&(l=11);p={labels:i,datasets:[{label:"% ",data:o,backgroundColor:["rgba(128,194,66, 0.7)"]}]},n.setState({spinner:!0,data:p}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])}))),n.currentDate=function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+(e.getHours()+":"+e.getMinutes()+":"+e.getSeconds());n.setState(Object(ae.a)({},n.state,{timeStamp:t}))},n.state={data:{},spinner:!0,timeStamp:""},n.handlerSpinner=n.handlerSpinner.bind(Object(re.a)(n)),n}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.getChartData(),this.currentDate()}},{key:"handlerSpinner",value:function(e){this.setState({spinner:e})}},{key:"render",value:function(){var e=this;return l.a.createElement(d.G,null,l.a.createElement(d.s,null,l.a.createElement(d.S,null,l.a.createElement(d.f,{slot:"start"},l.a.createElement(d.C,null)),l.a.createElement(d.Q,null,"Historic chart"))),l.a.createElement(d.n,{className:"chart-content"},l.a.createElement(d.A,{isOpen:this.state.spinner,onDidDismiss:function(){return e.setState({spinner:!1})},message:"Loading...",duration:2e3}),this.state.data&&this.state.data.datasets?l.a.createElement(oe,{data:this.state.data,location:"Madrid",legendPosition:"bottom",handlerSpinner:this.handlerSpinner}):null))}}]),t}(o.Component)),se=(n(333),function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={isLoggedIn:localStorage.getItem("isLogin")?localStorage.getItem("isLogin"):"false",routes:{appPages:[],loggedInPages:[{title:"Ripple Road",path:"/rippleDiagram",icon:"create"},{title:"Ripple List",path:"/ripple",icon:"create"},{title:"Digitalization Grade",path:"/dgrade",icon:"podium"},{title:"Logout",path:"/login",icon:"log-out"}],loggedOutPages:[{title:"Login",path:"/login",icon:"log-in"}]}},window.addEventListener("loggedIn",(function(e){n.setState({isLoggedIn:e.detail.toString(),routes:{appPages:[],loggedInPages:[{title:"Ripple Road",path:"/rippleDiagram",icon:"create"},{title:"Ripple List",path:"/ripple",icon:"create"},{title:"Digitalization Grade",path:"/dgrade",icon:"stats"},{title:"Logout",path:"/login",icon:"log-out"}],loggedOutPages:[{title:"Login",path:"/login",icon:"log-in"}]}})})),n}return Object(b.a)(t,e),Object(E.a)(t,[{key:"renderMenuItem",value:function(e){return l.a.createElement(d.D,{key:e.title,"auto-hide":"false"},l.a.createElement(d.v,{routerLink:e.path},l.a.createElement(d.t,{name:e.icon}),l.a.createElement(d.x,{className:"sidemenu-link customLink"},e.title)))}},{key:"render",value:function(){var e=this;return l.a.createElement(d.B,{side:"start",menuId:"first",contentId:"main"},l.a.createElement(d.s,null,l.a.createElement(d.S,null,l.a.createElement(d.Q,null,"Menu"))),l.a.createElement(d.n,{class:"customContent"},l.a.createElement(d.z,null,this.state.routes.appPages.map((function(t){return e.renderMenuItem(t)})),"true"===this.state.isLoggedIn?l.a.createElement(l.a.Fragment,null," ",this.state.routes.loggedInPages.map((function(t){return e.renderMenuItem(t)}))," "):l.a.createElement(l.a.Fragment,null," ",this.state.routes.loggedOutPages.map((function(t){return e.renderMenuItem(t)}))," ")),l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"wave"}))))}}]),t}(l.a.Component)),ce=(n(334),function(){return l.a.createElement(d.G,null,l.a.createElement(d.s,null,l.a.createElement(d.S,null,l.a.createElement(d.f,{slot:"start"},l.a.createElement(d.C,null)),l.a.createElement(d.Q,null,"Home"))),l.a.createElement(d.n,null,l.a.createElement("div",{className:"backgrounddiv"},l.a.createElement("video",{autoPlay:!0,"webkit-playsinline":"true",playsInline:!0,loop:!0,muted:!0,id:"backgroundvideo"},l.a.createElement("source",{src:w.a,type:"video/webm"})),l.a.createElement("div",{className:"ion-text-center"},l.a.createElement("img",{src:j.a,alt:"logo",width:"50%",className:"centerAbsolute"})))))}),ue=(n(335),function(e){var t=Object(o.useState)(),n=Object(D.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(e.match.params.ripple),s=Object(D.a)(i,2),c=s[0],u=s[1],m=["AS-IS","Solution","Challenge","Value","Benefits","Ripple Information","Exponential Technologies","Roles","Numbers","Complexity","Project"],p=Object(o.useState)("part0"),h=Object(D.a)(p,2),f=h[0],g=h[1],E=new M(e);Object(o.useEffect)((function(){u(e.match.params.ripple),E.doGet("/nrrm-ripple/ripple/findOne/"+c).then((function(e){return r(e)}))}),[]);var y=function(e){if(a){var t=a.texts.find((function(t){return-1!==t.type.toUpperCase().indexOf(e)}));return t?t.text:""}},v=function(e){if(a)switch(e){case"AS-IS":return l.a.createElement(d.v,{key:"asis0",className:"asis"},l.a.createElement(d.u,{disabled:!0},y("AS-IS")),l.a.createElement(d.F,{slot:"end"}));case"Solution":return l.a.createElement(d.v,{key:"solution0",className:"solution"},l.a.createElement(d.u,{disabled:!0},y("SOLUTION")),l.a.createElement(d.F,{slot:"end"}));case"Challenge":return l.a.createElement(d.v,{key:"challenge0",className:"challenge"},l.a.createElement(d.u,{disabled:!0},y("CHALLENGE")),l.a.createElement(d.F,{slot:"end"}));case"Value":return l.a.createElement(d.v,{key:"value0",className:"value"},l.a.createElement(d.u,{disabled:!0},y("VALUE")),l.a.createElement(d.F,{slot:"end"}));case"Benefits":return l.a.createElement(d.v,{key:"benefits0",className:"benefits"},l.a.createElement(d.u,{disabled:!0},y("BENEFITS")),l.a.createElement(d.F,{slot:"end"}));case"Ripple Information":return function(){var e=[];return e.push({key:"Ripple Owner",value:a.rippleOwner}),e.push({key:"Type of Solution",value:a.type.rippleType}),e.push({key:"Type of Implementation",value:a.implementationType.implementationType}),e.push({key:"Business Area",value:a.businessArea.businessArea}),e}().map((function(e,t){return l.a.createElement(d.v,{key:"ri"+t,className:"ri"},l.a.createElement(d.x,{position:"stacked"},e.key),l.a.createElement(d.u,{disabled:!0},e.value),l.a.createElement(d.F,{slot:"end"}))}));case"Exponential Technologies":return a.technologiesInvolved.map((function(e,t){return l.a.createElement(d.v,{key:"ti"+t,className:"ti"},l.a.createElement(d.x,{position:"stacked"},e.technologiesType),l.a.createElement(d.F,{slot:"end"}))}));case"Roles":return a.rippleRoleables.map((function(e,t){return l.a.createElement(d.v,{key:"com"+t,className:"rr"},l.a.createElement(d.x,{position:"stacked"},e.rol.rolType+" ("+e.percentage+"%)"),l.a.createElement(d.H,{value:e.percentage/100}))}));case"Numbers":return function(){var e=[];return e.push({key:"P/L Impact Range (k\u20ac)",value:a.plImpactRangeLower+" - "+a.plImpactRangeHigher}),e.push({key:"Cost Range (k\u20ac)",value:a.costRangeLower+" - "+a.costRangeHigher}),e.push({key:"Time Range (weeks)",value:a.timeRangeLower+" - "+a.timeRangeHigher}),e}().map((function(e,t){return l.a.createElement(d.v,{key:"num"+t,className:"num"},l.a.createElement(d.x,{position:"stacked"},e.key),l.a.createElement(d.u,{disabled:!0},e.value),l.a.createElement(d.F,{slot:"end"}))}));case"Complexity":return function(){var e=[];return e.push({key:"Complexity ("+a.complexityPercentage+"%)",numberValue:parseFloat(a.complexityPercentage)/100}),e.push({key:"Business Impact ("+a.impactPercentage+"%)",numberValue:parseFloat(a.impactPercentage)/100}),e}().map((function(e,t){var n=e.numberValue>.7?"success":e.numberValue>.4?"warning":"danger";return l.a.createElement(d.v,{key:"com"+t,className:"ri"},l.a.createElement(d.x,{position:"stacked"},e.key),l.a.createElement(d.H,{value:e.numberValue,color:n}))}));case"Project":return function(){var e=[];return e.push({key:"Responsable de ejecuci\xf3n ("+a.complexityPercentage+"%)",numberValue:parseFloat(a.complexityPercentage)/100}),e.push({key:"Responsable de ejecuci\xf3n ("+a.rippleOwner+")"}),e.push({key:"Progress Degree ("+a.progressDegree+")"}),e.push({key:"Initial Date ("+a.projectInitDate+")"}),e.push({key:"End Date ("+a.projectEndDate+")"}),e.push({key:"Project Status ("+a.projectStatus+")"}),e.push({key:"Project Risks ("+a.projectRisks+")"}),e}().map((function(e,t){return l.a.createElement(d.v,{key:"proj"+t,className:"num"},l.a.createElement(d.x,{position:"stacked"},e.key),l.a.createElement(d.u,{disabled:!0},e.value),l.a.createElement(d.F,{slot:"end"}))}))}};return l.a.createElement(d.G,null,l.a.createElement(d.s,null,l.a.createElement(d.S,null,l.a.createElement(d.f,{slot:"start"},l.a.createElement(d.d,{defaultHref:"/ripple/"})),l.a.createElement(d.Q,null,a?a.name:"")),l.a.createElement(d.S,{className:"rippleSegmentCustom"},l.a.createElement(d.M,{key:"ionSegmentKey",value:f,className:"rippleSegment",onIonChange:function(e){},scrollable:!0},m.map((function(e,t){var n="part"+t;return l.a.createElement(d.N,{className:n,key:t,value:n,onClick:function(e){var t=document.querySelector("ion-content.customContent22"),n=document.querySelector("ion-item-divider."+e.currentTarget.getAttribute("VALUE")),a=n.offsetParent;null!=t&&null!=n&&t.scrollToPoint(100,a.offsetTop-n.clientHeight,1500)}},l.a.createElement(d.x,{key:t},e))}))))),l.a.createElement(d.n,{scrollEvents:!0,onIonScrollStart:function(){},onIonScroll:function(e){try{for(var t=e.detail.scrollTop,n=0,a="",r=0;r<m.length;r++){var i=t-document.querySelector("ion-item-divider.part"+r).offsetParent.offsetTop;i>0||(0===n&&(n=i,a="part"+r),n>Math.abs(i)&&(n=i,a="part"+r))}g(a);var o=document.querySelector("ion-segment.rippleSegment"),l=document.querySelector("ion-segment-button."+a);o.scrollTo(l.offsetLeft,0),console.log(a)}catch(s){console.log(s)}},onIonScrollEnd:function(){},className:"customContent22 rippleDetail"},m.map((function(e,t){var n=v(e),a="part"+t;return l.a.createElement(d.z,{key:a+"list"},l.a.createElement(d.w,{sticky:!0,key:a,className:a},e),n)}))))}),de=(n(336),n(337),n(338),n(167)),me=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(y.a)(this,Object(v.a)(t).call(this,e))).ref=void 0,n.myTree=void 0,n.allData=void 0,n.tmpData=void 0,n.maxLevels=0,n.ev=void 0,n.nodeValue=void 0,n.selectedNode=void 0,n.nodeData=void 0,n.getNodeTemplate=n.getNodeTemplate.bind(Object(re.a)(n)),n.state={data:e.data,border:e.getBorderFromParent,color:e.getColorFromParent},n.state.data&&(n.allData=n.state.data.slice(),n.tmpData=n.state.data.slice()),n.ref=l.a.createRef(),n}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.debug("componentDidMount::Height:"+this.ref.current.clientHeight+" width:"+this.ref.current.clientWidth),setTimeout((function(){console.debug("Height:"+e.ref.current.clientHeight+" width:"+e.ref.current.clientHeight),e.ref.current.clientHeight+e.ref.current.clientHeight>0&&e.paintDiagram()}),1e3)}},{key:"getNodeTemplate",value:function(e){var t=this.props.getBorderFromParent(e.data.type),n=this.props.getColorFromParent(e.data.type);return"<div \n              class='nodeBox' \n              style='cursor:pointer;\n              height:".concat(e.settings.nodeHeight,"px; \n              width:").concat(e.settings.nodeWidth,"px;\n              display:flex;\n              flex-direction:column;\n              justify-content:center;\n              align-items:center;\n              border-color:").concat(e.data.isSelected?"gray":t,";\n              border-width: ").concat(e.data.isSelected?"5px":"1px",";\n              background-color:").concat(n,";\n              ").concat(e.data.highlighted?"box-shadow: 0px 0px 20px 9px "+t+";":"box-shadow:none;","\n              border-radius:20px;'>\n                <div style='border-left:2px;border-color:red;width:150px'>\n                  <div style='margin-bottom:100px;text-align: center;'>").concat(e.data.name," </div>\n                </div>\n            </div>")}},{key:"paintDiagram",value:function(){var e=this;this.myTree=de.create({htmlId:this.ref.current.id,idKey:"id",hasFlatData:!0,relationnalField:"father",hasZoom:!0,hasPan:!0,nodeWidth:20,nodeHeight:20,marginLeft:20,marginRight:20,marginTop:0,marginBottom:0,mainAxisNodeSpacing:"auto",secondaryAxisNodeSpacing:1,isHorizontal:!0,renderNode:function(t){return e.getNodeTemplate(t)},linkWidth:function(e){return 1},linkShape:"curve",linkColor:function(e){return"#B0BEC5"},onNodeClick:function(t){if(e.findIfShowingChildren(t.data.id)){var n=e.removeChildrenFromParent(t.data.id);n.find((function(e){return e.id===t.data.id})).isOpened=!1,e.tmpData=n}else{var a=e.addChildrenFromParent(t.data.id);e.tmpData=e.tmpData.concat(a),e.tmpData.find((function(e){return e.id===t.data.id})).isOpened=!0,e.tmpData.sort((function(e,t){return e.id-t.id}))}e.setSelectedNode(t.data.id),e.myTree.refresh(e.tmpData)}}),this.updateData()}},{key:"setSelectedNode",value:function(e){var t=this.tmpData.find((function(t){return t.id===e}));this.allData.forEach((function(e){e.isSelected=!1})),t.isSelected=!0,this.selectedNode=t,this.sendData()}},{key:"sendData",value:function(){this.props.parentCallback(this.selectedNode)}},{key:"findIfShowingChildren",value:function(e){return this.tmpData.filter((function(t){return t.father===e})).length>0}},{key:"getIndicesFromChildrenForRemove",value:function(e){var t=this,n=this.tmpData.slice(),a=n.filter((function(t){return t.father===e})),r=[];return a.forEach((function(e){r.push(n.findIndex((function(t){return t.id===e.id}))),r&&r.length>0&&(r=r.concat(t.getIndicesFromChildrenForRemove(e.id)))})),r}},{key:"getIndicesFromChildren",value:function(e){var t=this,n=this.allData.slice(),a=n.filter((function(t){return t.father===e})),r=[];return a.forEach((function(e){r.push(n.findIndex((function(t){return t.id===e.id}))),r&&r.length>0&&(r=r.concat(t.getIndicesFromChildren(e.id)))})),r}},{key:"addChildrenFromParent",value:function(e){for(var t=[],n=this.getIndicesFromChildren(e),a=n.length-1;a>=0;a--)t.push(this.allData[n[a]]);return t}},{key:"removeChildrenFromParent",value:function(e){var t=this.tmpData.slice(),n=this.getIndicesFromChildrenForRemove(e);n.sort((function(e,t){return t-e}));for(var a=0;a<n.length;a++)t.splice(n[a],1);return t}},{key:"updateData",value:function(){this.myTree&&this.state.data&&this.myTree.refresh(this.state.data)}},{key:"componentDidUpdate",value:function(e,t){console.debug("componentDidUpdate::Height:"+this.ref.current.clientHeight+" width:"+this.ref.current.clientWidth),t.data!==this.props.data&&(this.props.data&&this.setState({data:this.props.data}),this.state.data&&(this.allData=this.state.data.slice(),this.tmpData=this.state.data.slice())),this.ref.current.clientHeight+this.ref.current.clientHeight>0&&this.updateData()}},{key:"render",value:function(){return l.a.createElement("div",{ref:this.ref,id:"tree",style:{width:this.props.maxLevels>0?200*this.props.maxLevels+"px":"90%",margin:200*this.props.maxLevels>window.innerWidth?"0 5%":"0 auto"}})}}]),t}(l.a.Component),pe=n(452),he=function(e){var t=new M(e),n=Object(o.useState)(!0),a=Object(D.a)(n,2),r=a[0],i=a[1],s=Object(o.useState)(!1),c=Object(D.a)(s,2),u=c[0],m=c[1],p=Object(o.useState)([]),h=Object(D.a)(p,2),f=h[0],g=h[1],E=Object(o.useState)([]),y=Object(D.a)(E,2),v=y[0],b=y[1],k=Object(o.useState)([]),j=Object(D.a)(k,2),O=j[0],S=j[1],C=Object(o.useState)([]),w=Object(D.a)(C,2),I=w[0],x=w[1],N=Object(o.useState)(!1),P=Object(D.a)(N,2),F=P[0],_=P[1],z=Object(o.useState)(!1),U=Object(D.a)(z,2),G=U[0],B=U[1],W=Object(o.useState)(!1),Q=Object(D.a)(W,2),V=Q[0],q=Q[1],K=Object(o.useState)(null),J=Object(D.a)(K,2),Y=J[0],Z=J[1],$=Object(o.useState)([]),X=Object(D.a)($,2),ee=X[0],te=X[1],ne=Object(o.useState)(0),ae=Object(D.a)(ne,2),re=ae[0],ie=ae[1],oe=0,le=0,se=Object(o.useState)(null),ce=Object(D.a)(se,2),ue=ce[0],de=ce[1],he=Object(o.useState)(null),fe=Object(D.a)(he,2),ge=fe[0],Ee=fe[1],ye=function(e){if(!e)return de([]);var t=[],n=[],a=[];e.forEach((function(e){t.push({key:e.implementationType.uuid,value:e.implementationType.implementationType,type:0}),n.push({key:e.type.uuid,value:e.type.rippleType,type:1,typeColor:e.type.id}),a.push({key:e.businessArea.uuid,value:e.businessArea.businessArea,type:2}),te(Array.from(new Set(n.map((function(e){return e.key})))).map((function(e){return n.find((function(t){return t.key===e}))})))})),b(ve(t)),S(ve(n)),x(ve(a))},ve=function(e){return e.filter((function(e,t,n){return n.findIndex((function(t){return t.place===e.place&&t.key===e.key}))===t}))},be=function(){i(!0),ue&&(ue.forEach((function(e){0!==f.length?f.forEach((function(t){0===t.type&&e.implementationTypeUUID===t.key?e.highlighted=!0:1===t.type&&e.typeUUID===t.key?e.highlighted=!0:2===t.type&&e.businessAreaUUID===t.key?e.highlighted=!0:e.highlighted=!1})):e.highlighted=!1})),de(ue),i(!1))},ke=function(e){-1===f.indexOf(e)&&(f.push(e),g(f),be())},je=function(e){if(e){for(var t=[{id:0,name:"Inicio",smallDescription:"",father:void 0,type:0,isOpened:!0,hasChildren:!0,highlighted:!1,typeUUID:"",implementationTypeUUID:"",isSelected:!1,businessAreaUUID:""}],n=0;n<e.length;n++)t.push({id:e[n].id,name:e[n].name,smallDescription:e[n].smallDescription,father:e[n].predecessor?e[n].predecessor.id:0,type:e[n].type?e[n].type.id:0,isOpened:!0,hasChildren:e[n].successor.length>0,highlighted:e[n].selected,typeUUID:e[n].type.uuid,implementationTypeUUID:e[n].implementationType.uuid,isSelected:!1,businessAreaUUID:e[n].businessArea.uuid});e.filter((function(e){return 0===e.successor.length})).forEach((function(t){(function e(t,n){if(null===t.predecessor)return++le;le++,e(n.find((function(e){return e.uuid===t.predecessor.uuid})),n)})(t,e),0===le?oe=le:le>oe&&(oe=le),le=0})),oe++,ie(oe),de(t.sort((function(e,t){return e.id-t.id})))}};return Object(o.useEffect)((function(){i(!0),t.doGet("/nrrm-ripple/ripple?email="+localStorage.getItem("email")).then((function(e){return i(!1),ye(e),Ee(e),je(e)}))}),[]),l.a.createElement(d.G,null,l.a.createElement(d.s,null,l.a.createElement(d.S,null,l.a.createElement(d.f,{slot:"start"},l.a.createElement(d.C,null)),l.a.createElement(d.Q,null,"Ripple Road Diagram"))),l.a.createElement(d.n,null,l.a.createElement("div",{className:"chips-wrapper"},f.map((function(e){return l.a.createElement(d.l,{onClick:function(){!function(e){f.splice(f.indexOf(e),1);var t=f.slice();g(t),be()}(e)}},l.a.createElement(d.x,null,e.value),l.a.createElement(d.t,{name:"close-circle"}))}))),l.a.createElement(d.A,{isOpen:r,onDidDismiss:function(){return i(!1)},message:"Loading...",duration:3e3}),l.a.createElement("div",{className:"ripple-diagram-wrapper"},l.a.createElement(me,{onClickNode:function(e){m(!u)},data:ue,getColorFromParent:H.bind(null),getBorderFromParent:H.bind(null),maxLevels:re,parentCallback:function(e){var t;t=ge.find((function(t){return t.id===e.id})),Z(t)}.bind(null)})),l.a.createElement("div",{className:"legend"},ee.map((function(e,t){return l.a.createElement(d.K,null,l.a.createElement(d.m,{size:"auto"},l.a.createElement("div",{className:"legend__item",style:{backgroundColor:H(e.typeColor),borderColor:H(e.typeColor)}})),l.a.createElement(d.m,{size:"auto"},l.a.createElement("span",null,e.value)))}))),l.a.createElement("div",{className:"customStackedButtons"},null!=Y?l.a.createElement(d.o,{vertical:"bottom",horizontal:"end",slot:"fixed"},l.a.createElement(d.p,{routerLink:"/ripple/"+Y.uuid},l.a.createElement(d.t,{icon:pe.a,color:"light"}))):null,l.a.createElement(d.o,{vertical:"bottom",horizontal:"end",slot:"fixed",className:"secondaryFab"},l.a.createElement(d.p,{color:"secondary"},l.a.createElement(d.t,{icon:T.a,color:"light"})),l.a.createElement(d.q,{side:"top"},l.a.createElement(d.p,{title:"Implementation Type",onClick:function(e){_(!0)}},l.a.createElement(d.t,{icon:R.a})),l.a.createElement(d.p,{title:"Solution Type",onClick:function(e){B(!0)}},l.a.createElement(d.t,{icon:L.a})),l.a.createElement(d.p,{title:"Business Area",onClick:function(e){q(!0)}},l.a.createElement(d.t,{icon:A.a}))))),l.a.createElement(d.E,{isOpen:F},l.a.createElement(d.z,null,v.map((function(e){return l.a.createElement(d.v,{key:e.key,onClick:function(t){ke(e),_(!1)}},e.value)}))),l.a.createElement(d.e,{onClick:function(){return _(!1)}},"Cerrar")),l.a.createElement(d.E,{isOpen:G},l.a.createElement(d.z,null,O.map((function(e){return l.a.createElement(d.v,{key:e.key,onClick:function(t){ke(e),B(!1)}},e.value)}))),l.a.createElement(d.e,{onClick:function(){return B(!1)}},"Cerrar")),l.a.createElement(d.E,{isOpen:V},l.a.createElement(d.z,null,I.map((function(e){return l.a.createElement(d.v,{key:e.key,onClick:function(t){ke(e),q(!1)}},e.value)}))),l.a.createElement(d.e,{onClick:function(){return q(!1)}},"Cerrar"))))},fe=(n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),function(){return l.a.createElement(d.c,null,l.a.createElement(m.a,null,l.a.createElement(d.O,{contentId:"main",when:"false"},l.a.createElement(se,null),l.a.createElement(d.J,{id:"main"},l.a.createElement(u.b,{path:"/",component:ce,exact:!0}),l.a.createElement(u.b,{exact:!0,path:"/login",component:x}),l.a.createElement(u.b,{exact:!0,path:"/ripple/",component:G}),l.a.createElement(u.b,{path:"/ripple/:ripple",component:ue}),l.a.createElement(u.b,{path:"/rippleDiagram",component:he}),l.a.createElement(u.b,{path:"/dgrade",component:Z}),l.a.createElement(u.b,{path:"/dgrade2",component:ne}),l.a.createElement(u.b,{path:"/historicalChart",component:le}),l.a.createElement(u.a,{exact:!0,from:"/",to:"/login"})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},61:function(e,t,n){e.exports=n.p+"static/media/logoNRM.941dff3e.png"},62:function(e,t,n){e.exports=n.p+"static/media/loopWaves.cdac9594.webm"},79:function(e,t,n){}},[[208,9,10]]]);
//# sourceMappingURL=main.2169ac26.chunk.js.map